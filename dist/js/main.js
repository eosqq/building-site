(()=>{"use strict";(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),l=e.querySelectorAll(".table");let o,r=0;l.forEach((e=>{e.style.opacity=1,e.style.visibility="visible"})),o=setInterval((()=>{t[r].style.display="none",r++,r>=t.length&&(r=0),t[r].style.display="block"}),3e3)})(),(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay "),o=document.querySelector(".modal-close"),r=document.querySelectorAll(".fancyboxModal "),n=document.querySelectorAll(".button-services"),a=()=>{(({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function r(n){let a=(n-o)/l;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))})({duration:300,timing:e=>e,draw(e){t.style.opacity=e,l.style.opacity=e}}),t.style.display="block",l.style.display="block"};e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a()}))})),r.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a()}))})),n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a()}))})),o.addEventListener("click",(e=>{t.style.display="none",l.style.display="none"})),l.addEventListener("click",(e=>{t.style.display="none",l.style.display="none"}))})(),(()=>{const e=document.querySelector(".services-carousel"),t=document.querySelector(".services-elements"),l=document.querySelectorAll(".services-arrow"),o=e.querySelectorAll(".col-sm-6");let r=0,n=Math.floor(100/3);e.style.display="flex",t.style.overflow="hidden",o.forEach((e=>{e.style.flex=`0 0 ${n}%`})),l.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(".arrow-right")?r<o.length-3&&(++r,e.style.transform=`translateX(-${r*n}%)`):t.target.matches(".arrow-left")&&r>0&&(--r,e.style.transform=`translateX(-${r*n}%)`)}))}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element-content");e.querySelectorAll(".title"),t.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("active")?e.classList.remove("active"):(t.forEach((e=>{e.classList.remove("active")})),e.classList.add("active")),l.forEach((e=>{e.style.display="none",e.closest(".active")&&(e.style.display="block")}))}))}))})(),(()=>{const e=document.querySelector(".up"),t=document.querySelectorAll(".top-menu ul>li>a");e.style.display="none";const l=e=>{e.addEventListener("click",(t=>{t.preventDefault();const l=e.getAttribute("href"),o=document.querySelector(l);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}))};window.addEventListener("scroll",(t=>{t.target.value=scrollY,t.target.value>500?e.style.display="block":e.style.display="none"})),e.setAttribute("href",".main-wrapper"),l(e),t.forEach((e=>{l(e)}))})(),document.querySelectorAll("input").forEach((e=>{"fio"===e.name&&e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s\-]/gi,"")})),"tel"===e.name&&e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9\(\)\-\+]/,"")}))})),(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),l=document.querySelector('[name="form-callback"]'),o=l.querySelectorAll("input"),r=document.createElement("div");try{if(!l)throw new Error("Верните форму на место!");l.addEventListener("submit",(n=>{n.preventDefault(),(()=>{const n=new FormData(l),a={};var c;r.textContent="Идёт отправка...",l.append(r),n.forEach(((e,t)=>{a[t]=e})),(e=>{let t=!0;return e.forEach((e=>{"tel"==e.name&&e.value.length<=5&&e.value.length<=11&&(t=!1),"fio"==e.name&&e.value.length<=2&&(t=!1)})),t})(o)?(c=a,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json))).then((()=>{r.textContent="Спасибо! Наш менеджер с вами свяжется",setTimeout((()=>{e.style.display="none",t.style.display="none",r.textContent=""}),2e3),o.forEach((e=>{"tel"!=e.name&&"fio"!=e.name||(e.value="")}))})).catch((()=>{r.textContent="Ошибка"})):(alert("Данные не валидны!"),r.textContent="")})()}))}catch(e){console.log(e.message)}})()})();